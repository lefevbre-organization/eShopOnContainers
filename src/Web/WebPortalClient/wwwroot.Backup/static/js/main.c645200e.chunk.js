(window.webpackJsonpsample=window.webpackJsonpsample||[]).push([[0],{100:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(19),r=n.n(c),l=n(36),i=(n(69),n(3)),s=n(4),u=n(6),m=n(7),d=n(9),f=n(20),h=(n(70),n(71),function(){return o.a.createElement("div",{className:"d-flex w-100 h-100 flex-column justify-content-center align-items-center vertical-center"},o.a.createElement("div",{className:"h1"},"404 ERROR"),o.a.createElement("div",null,"Page not found."))}),p=n(37),v=n.n(p),E=n(51),g=n(13),O=(n(73),n(5)),w={login:{URL_ENCRYPTED_USER:"https://online.elderecho.com/ws/encriptarEntrada.do?nEntrada=",URL_DECRYPTED_USER:"https://online.elderecho.com/ws/desencriptarEntrada.do?entradaEncriptada=",USER:"ws",PWD:"22lcqsp11lsw"}},b=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e)))._handleOnClick=n._handleOnClick.bind(Object(g.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"_handleOnClick",value:function(e,t){(0,this.props.toggleConfirmRemoveAccount)(!1,t)}},{key:"getUser",value:function(){var e=this.props,t=e.userId,n=e.provider,a=e.email;switch(n){case"GOOGLE":return void 0!==a&&""!==a?"GO0".concat(t):"GO1".concat(t);case"OUTLOOK":return void 0!==a&&""!==a?"OU0".concat(t):"OU1".concat(t);case"IMAP":return void 0!==a&&""!==a?"IM0".concat(t):"IM1".concat(t);default:return null}}},{key:"getTrash",value:function(e){var t=this,n=this.props.email;return null!=n&&void 0!==n?o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:"#/",className:"trash",onClick:function(){return t._handleOnClick(e,n)}},o.a.createElement("span",{className:"icon lf-icon-trash"}))):null}},{key:"render",value:function(){var e,t=this.props,n=t.provider,a=t.email,c=this.getUser();switch(n){case"GOOGLE":return e=null!=a&&void 0!==a?a:"Google",o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:window.URL_INBOX_GOOGLE+"/user/"+c,className:"d-flex align-items-center"},o.a.createElement("span",null,o.a.createElement("img",{src:"/assets/imgs/logoGoogle.png",alt:n})),o.a.createElement("span",null,e)),this.getTrash("GOOGLE"));case"OUTLOOK":return e=null!=a&&void 0!==a?a:"Microsoft  (Exchange, Outlook, Office 365)",o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:window.URL_INBOX_OUTLOOK+"/user/"+c,className:"d-flex align-items-center"},o.a.createElement("span",null,o.a.createElement("img",{src:"/assets/imgs/logoMicrosoft.png",alt:n})),o.a.createElement("span",null,e)),this.getTrash("OUTLOOK"));case"IMAP":return e=null!=a&&void 0!==a?a:O.a.t("page-goto.other-server-mail"),o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:window.URL_INBOX_IMAP+"/user/"+c,className:"d-flex align-items-center"},o.a.createElement("span",{className:"lf-icon-mail"}),o.a.createElement("span",null,e)),this.getTrash("IMAP"));default:return null}}}]),t}(a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.userId,c=t.accounts;return Array.isArray(c)&&0!==c.length?o.a.createElement(a.Fragment,null,c.map(function(t){return o.a.createElement("li",{key:t.provider},o.a.createElement(b,{userId:n,provider:t.provider,email:t.email,removeAccount:e.props.removeAccount,toggleConfirmRemoveAccount:e.props.toggleConfirmRemoveAccount}))})):null}}]),t}(a.Component),y=n(52),A=n.n(y),I=(n(78),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"renderAddAccount",value:function(e){var t=this.props,n=t.userId;return t.accounts.some(function(t){return t.provider===e})?null:o.a.createElement("li",null,o.a.createElement(b,{userId:n,provider:e}))}},{key:"render",value:function(){var e=this.props.userId;return o.a.createElement("aside",{className:"row mt-5 mb-5"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col d-flex justify-content-center"},o.a.createElement("div",{className:"form-box p-0"},o.a.createElement("div",{className:"px-md-5 pt-md-4 px-3 pt-3 pb-0 w-100"},o.a.createElement("div",{className:"row logo text-center"},o.a.createElement("div",{className:"col"},o.a.createElement("span",{className:"naming"},O.a.t("page-goto.mail")),o.a.createElement("span",{className:"mb-3"},O.a.t("page-goto.add-account-mail"))))),o.a.createElement("div",{className:"associated-accounts px-md-5 py-md-3 px-3 py-2 w-100"},o.a.createElement("strong",{className:"asociadas"},O.a.t("page-goto.my-accounts")),o.a.createElement(A.a,null,o.a.createElement("ul",{className:"mb-0"},o.a.createElement(N,{userId:e,accounts:this.props.accounts,removeAccount:this.props.removeAccount,toggleConfirmRemoveAccount:this.props.toggleConfirmRemoveAccount})))),o.a.createElement("div",{className:"px-md-5 pb-md-4 px-3 pb-3 pt-0 w-100"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("strong",{className:"add-accounts"},O.a.t("page-goto.add-account-mail")))),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(b,{userId:e,provider:"GOOGLE"})),o.a.createElement("li",null,o.a.createElement(b,{userId:e,provider:"OUTLOOK"})),o.a.createElement("li",null,o.a.createElement(b,{userId:e,provider:"IMAP"})))))))))}}]),t}(a.Component)),k=(n(79),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",{className:"row footer mt-auto"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6 footer-logo"},o.a.createElement("a",{rel:"noopener noreferrer",href:"https://lefebvre.es",target:"_blank"},o.a.createElement("img",{alt:"LEFEBVRE",src:"https://assets.lefebvre.es/media/logos/web/comunes/lefebvre-ij-bl-160x57.png"}))),o.a.createElement("ul",{className:"col-xs-12 col-md-6 social-squares"},o.a.createElement("li",null,o.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.facebook.com/lefebvreelderecho",target:"_blank",title:"Facebook"},o.a.createElement("span",{className:"lf-icon-facebook-round"}))),o.a.createElement("li",null,o.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.linkedin.com/company/lefebvre-elderecho",target:"_blank",title:"Linkedin"},o.a.createElement("span",{className:"lf-icon-linkedin-round"}))),o.a.createElement("li",null,o.a.createElement("a",{rel:"noopener noreferrer",href:"https://www.youtube.com/channel/UCAxbOiNpUotcbZIRL3IxEDg",target:"_blank",title:"Youtube"},o.a.createElement("span",{className:"lf-icon-youtube-round"}))),o.a.createElement("li",null,o.a.createElement("a",{rel:"noopener noreferrer",href:"https://twitter.com/edicionesfl",target:"_blank",title:"Twitter"},o.a.createElement("span",{className:"lf-icon-twitter-round"}))))),o.a.createElement("div",{className:"row"},o.a.createElement("p",{className:"col-xs-12"},"\xa92019 Lefebvre. ",O.a.t("footer.all-reserved-right"),o.a.createElement("span",null,o.a.createElement("a",{rel:"noopener noreferrer",href:"https://lefebvre.es/aviso-legal",target:"_blank",title:O.a.t("footer.legal-warning")},O.a.t("footer.legal-warning"))," ","\xa0|\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://lefebvre.es/politica-privacidad",target:"_blank",title:O.a.t("footer.privacy-policy")},O.a.t("footer.privacy-policy"))," ","\xa0|\xa0",o.a.createElement("a",{rel:"noopener noreferrer",href:"https://lefebvre.es/politica-cookies",target:"_blank",title:O.a.t("footer.cookies-policy")},O.a.t("footer.cookies-policy")))))))}}]),t}(a.Component)),R=n(117),j=n(118),_=(n(80),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={modal:e.initialModalState},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this.props,t=e.initialModalState,n=e.toggleConfirmRemoveAccount,a=e.email;return o.a.createElement("div",null,o.a.createElement(R.a,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(R.a.Header,{closeButton:!0}),o.a.createElement(R.a.Body,null,o.a.createElement("div",{className:"container-fluid content"},o.a.createElement("div",{className:"row d-flex justify-content-center"},o.a.createElement("div",{className:"col col-12"},o.a.createElement("h5",{className:"modal-title d-flex align-items-center",id:"clasificarEliminarclasificacionLabel"},o.a.createElement("img",{className:"img-question",alt:"",src:"/assets/imgs/icon-question.png"}),"Si eliminas este v\xednculo dejar\xe1s de visualizar el correo en la clasificaci\xf3n correspondiente de Lex-on. \xbfQuieres continuar?"))))),o.a.createElement(R.a.Footer,null,o.a.createElement(j.a,{className:"btn-primary",onClick:function(){return n(!1,a)}},O.a.t("confirm-remove-accounts.no")),o.a.createElement(j.a,{className:"btn-secondary",onClick:function(){return n(!0,a)}},O.a.t("confirm-remove-accounts.yes")))))}}]),t}(a.Component)),C=(n(99),function(){return o.a.createElement("div",{className:"d-flex w-100 h-100 flex-column justify-content-center align-items-center vertical-center"},o.a.createElement("div",{className:"h1"},"404 ERROR"),o.a.createElement("div",null,"User Not Found"))}),T=(n(100),function(){return o.a.createElement("div",{className:"bg-white"},o.a.createElement("div",{className:"preloader-holder-blue"}))}),L=n(28),U=n.n(L),x=(n(102),function(e,t){return"1"===t?new Promise(function(t,n){P(e).then(function(e){t(e)}).catch(function(e){n(e)})}):new Promise(function(t,n){D(e).then(function(e){t(e)}).catch(function(e){n(e)})})}),P=function(e){return new Promise(function(t,n){G(e).then(function(a){if(null!=a.ID_ENTRADA?console.log("User [".concat(e,"] exists: ").concat(a.ID_ENTRADA)):console.log("User [".concat(e,"] NOT exists")),null!=a.ID_ENTRADA){var o="".concat(window.API_ACCOUNTS,"/").concat("api/v1/accounts/emailuseraccount/getbyuser","/").concat(a.ID_ENTRADA);fetch(o,{method:"GET"}).then(function(e){return e.json()}).then(function(a){var o;0===a.errors.length?t({user:{ID_ENTRADA:e},accounts:a.data.accounts}):(a.errors.forEach(function(e){o="".concat(e," ")}),n(o))}).catch(function(e){n("".concat(e.message," [").concat(o,"]"))})}else t({user:null,accounts:[]})}).catch(function(e){n(e)})})},D=function(e){return new Promise(function(t,n){var a="".concat(window.API_ACCOUNTS,"/").concat("api/v1/accounts/emailuseraccount/getbyuser","/").concat(e);fetch(a,{method:"GET"}).then(function(e){return e.json()}).then(function(a){var o;0===a.errors.length?t({user:{ID_ENTRADA:e},accounts:a.data.accounts}):(a.errors.forEach(function(e){o="".concat(e," ")}),n(o))}).catch(function(e){n("".concat(e.message," [").concat(a,"]"))})})},G=function(e){var t="".concat("https://cors-anywhere.herokuapp.com/").concat(w.login.URL_DECRYPTED_USER).concat(e);return new Promise(function(e,a){var o=n(103),c=new Headers;c.append("Authorization","Basic "+o.encode(w.login.USER+":"+w.login.PWD)),fetch(t,{method:"GET",headers:c}).then(function(e){return e.json()}).then(function(t){console.log("user found ->",t),e(t)}).catch(function(e){a(e)})})},S=function(e,t,n){return new Promise(function(a,o){if("1"===e)G(t).then(function(e){if(null!=e.ID_ENTRADA){var t="".concat(window.API_ACCOUNTS,"/").concat("api/v1/accounts/emailuseraccount/deleteaccountbyuserandemail","/").concat(e.ID_ENTRADA,"/").concat(n);fetch(t,{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t;0===e.errors.length?a({data:e.data}):(e.errors.forEach(function(e){t="".concat(e," ")}),o(t))}).catch(function(e){o(e)})}else a("Error ->")});else{var c="".concat(window.API_ACCOUNTS,"/").concat("api/v1/accounts/emailuseraccount/deleteaccountbyuserandemail","/").concat(t,"/").concat(n);fetch(c,{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t;0===e.errors.length?a({data:e.data}):(e.errors.forEach(function(e){t="".concat(e," ")}),o(t))}).catch(function(e){o(e)})}})},M=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).removeAccount=function(e){var t=n.props.match.params.userId,a=n.props.match.params.encrypt;S(a,t,e).then(function(a){if(a.data>0)n.getAccounts();else{var o="Ha ocurrido un error cuando se borraba: userId -> ".concat(t,", email -> ").concat(e);L.store.addNotification({message:o,type:"warning",container:"bottom-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,showIcon:!0},width:600}),console.log(o)}}).catch(function(e){L.store.addNotification({message:e,type:"danger",container:"bottom-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,showIcon:!0},width:600}),console.log("error =>",e)})},n.state={loading:!0,accounts:[],userId:null,redirect:!1,showConfirmRemoveAccount:!1,emailRemoved:null},n.toggleConfirmRemoveAccount=n.toggleConfirmRemoveAccount.bind(Object(g.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=Object(E.a)(v.a.mark(function e(){var t,n,a=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.userId,n=this.props.match.params.encrypt,x(t,n).then(function(e){if(a.setState({loading:!1}),void 0===e.user||null===e.user)a.setState({redirect:!0});else if(a.setState({userId:e.user.ID_ENTRADA}),a.setState({accounts:e.accounts}),a.setState({redirect:!1}),0!==e.accounts.length){var t=e.accounts[0];if(t.defaultAccount)switch(t.provider){case"GOOGLE":window.open("".concat(window.URL_INBOX_GOOGLE,"/user/GO0").concat(a.state.userId),"_self");break;case"OUTLOOK":window.open("".concat(window.URL_INBOX_OUTLOOK,"/user/OU0").concat(a.state.userId),"_self");break;case"IMAP":window.open("".concat(window.URL_INBOX_IMAP,"/user/IM0").concat(a.state.userId),"_self");break;default:console.log("Valor no v\xe1lido")}}}).catch(function(e){console.log(e),L.store.addNotification({message:e,type:"danger",container:"bottom-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,showIcon:!0},width:600})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleConfirmRemoveAccount",value:function(e,t){this.setState(function(e){return{showConfirmRemoveAccount:!e.showConfirmRemoveAccount,emailRemoved:t}}),!0===e&&void 0!==t&&this.removeAccount(t)}},{key:"renderSpinner",value:function(){if(this.state.loading)return o.a.createElement(T,null)}},{key:"renderGoTo",value:function(){var e=this.state,t=e.loading,n=e.userId,a=e.accounts;if(!t)return o.a.createElement(I,{userId:n,accounts:a,removeAccount:this.removeAccount,toggleConfirmRemoveAccount:this.toggleConfirmRemoveAccount})}},{key:"renderFooter",value:function(){if(!this.state.loading)return o.a.createElement(k,null)}},{key:"render",value:function(){var e=this.state,t=e.redirect,n=e.showConfirmRemoveAccount,a=e.emailRemoved;return t?o.a.createElement(C,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,null),o.a.createElement(_,{initialModalState:n,toggleConfirmRemoveAccount:this.toggleConfirmRemoveAccount,email:a}),o.a.createElement("div",null,this.renderSpinner(),o.a.createElement("div",{className:"container-fluid d-flex h-100 flex-column",id:"borrar"},this.renderGoTo(),this.renderFooter())))}}]),t}(a.Component),B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("ENVIRONMENT ->",window.REACT_APP_ENVIRONMENT)}},{key:"render",value:function(){return o.a.createElement(f.c,null,o.a.createElement(f.a,{path:"/user/:userId?/encrypt/:encrypt?",component:M}),o.a.createElement(f.a,{path:"/user/:userId?",component:M}),o.a.createElement(f.a,{component:h}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(63),K={en:{translation:n(61)},es:{translation:n(62)}};O.a.init({resources:K,lng:navigator.language});var X=O.a;r.a.render(o.a.createElement(l.a,null,o.a.createElement(F.a,{i18n:X},o.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},61:function(e){e.exports=JSON.parse('{"page-goto":{"add-account-mail":"Add other account mail","other-server-mail":"Other server mail","mail":"MAIL","my-accounts":"My emails accounts"},"footer":{"all-reserved-right":"\xa92019 Lefebvre. Todos los derechos reservados.Aviso legal  | Pol\xedtica de privacidad  | Pol\xedtica de Cookies","legal-warning":"Legal warning","privacy-policy":"Privacy policy","cookies-policy":"Cookies policy"},"accounts":{"nothing-user-email-added":"Nothing user email added"},"confirm-remove-accounts":{"body":"If you discard this email account you will stop accessing its content from the Lefebvre Mail service. Do you want to continue?","yes":"Yes","no":"No"}}')},62:function(e){e.exports=JSON.parse('{"page-goto":{"add-account-mail":"A\xf1adir otra cuenta","other-server-mail":"Otro servidor de correo","mail":"MAIL","my-accounts":"Cuentas asociadas"},"footer":{"all-reserved-right":"\xa92019 Lefebvre. Todos los derechos reservados.","legal-warning":"Aviso legal","privacy-policy":"Pol\xedtica de privacidad","cookies-policy":"Pol\xedtica de cookies"},"accounts":{"nothing-user-email-added":"Ninguna cuenta de correo a\xf1adida"},"confirm-remove-accounts":{"body":"Si descartas esta cuenta de correo dejar\xe1s de acceder a su contenido desde el servicio Mail de Lefebvre. \xbfQuieres continuar?","yes":"Si","no":"No"}}')},64:function(e,t,n){e.exports=n(114)},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},99:function(e,t,n){}},[[64,1,2]]]);
//# sourceMappingURL=main.c645200e.chunk.js.map